# Common/Default configuration

image:
  repository: ghcr.io/systattic/traversium-social-service
  tag: "1.1.0-SNAPSHOT"
  pullPolicy: Always

service:
  port: 8094
  type: ClusterIP

replicaCount: 1

resources:
  limits:
    cpu: 1000m
    memory: 1Gi
  requests:
    cpu: 500m
    memory: 512Mi

secrets:
  imagePullSecret: ghcr-secret
  databaseSecret: neon-social-db-secret
  firebaseSecret: firebase-secret
  keycloakSecret: keycloak-social-client-secret

kafka:
  bootstrapServers: "kafka.kafka-test.svc.cluster.local:9092"
  auditTopic: "audit-topic"
  notificationTopic: "notification-topic"

tripService:
  url: "http://trip-service:8093/trips"

probes:
  startup:
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 30
  liveness:
    initialDelaySeconds: 5
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
  readiness:
    initialDelaySeconds: 5
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3

logging:
  level: INFO

spring:
  main:
    allowBeanDefinitionOverriding: true

security:
  oauth2:
    client:
      tokenUri: ""
      clientId: "social-service"
      clientSecret: ""
      grantType: "client_credentials"
      refreshSkewSeconds: 30

configServer:
  enabled: false
  applicationName: SocialService
  failFast: false
  bus:
    enabled: true
    refreshEnabled: true
